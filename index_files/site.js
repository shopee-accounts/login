function isIOS(){return void 0==window._isIOS_&&(window._isIOS_=navigator.userAgent.indexOf("iPhone")>=0||navigator.userAgent.indexOf("iPad")>=0||navigator.userAgent.indexOf("iPod")>=0),window._isIOS_}function isIOSWebApp(){return void 0==window._isIOSWebApp_&&(window._isIOSWebApp_=navigator.userAgent.indexOf("AppleWebKit")>=0&&!isShopeeApp()&&navigator.userAgent.indexOf("Safari")<0),window._isIOSWebApp_}function isSafari(){return void 0==window._isSafari_&&(window._isSafari_=!isShopeeApp()&&navigator.userAgent.indexOf("Safari")>0&&navigator.userAgent.indexOf("AppleWebKit")>=0&&navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("Android")<0),window._isSafari_}function isIPhone6Plus(){if(void 0==window._isIPhone6Plus_){var e=_getiPhonePlusCPUVersion_();window._isIPhone6Plus_=e.indexOf("Apple A8")>=0}return window._isIPhone6Plus_}function isIPhone6sPlus(){if(void 0==window._isIPhone6sPlus_){var e=_getiPhonePlusCPUVersion_();window._isIPhone6sPlus_=e.indexOf("Apple A9")>=0}return window._isIPhone6sPlus_}function isIPhone6or6sPlus(){return void 0==window._isIPhone6or6sPlus_&&(window._isIPhone6or6sPlus_=isIPhone6Plus()||isIPhone6sPlus()),window._isIPhone6or6sPlus_}function _getiPhonePlusCPUVersion_(){for(var e="",t=null,n=0;n<1&&isIOS()&&!(3!=window.devicePixelRatio||screen.width>414);n++)try{if(t=document.createElement("canvas"),!t)break;t.width=1,t.height=1;var i=t.getContext("webgl");if(!i)break;var r=i.getParameter(i.VERSION);if(!r)break;e=r;break}catch(o){break}return t&&t.remove(),e}function isIOS7(){return void 0==window._isIOS7_&&(window._isIOS7_=navigator.userAgent.indexOf("iPhone OS 7")>0||navigator.userAgent.indexOf("iPad; CPU OS 7")>0),window._isIOS7_}function isIOS11(){return void 0==window._isIOS11_&&(window._isIOS11_=navigator.userAgent.indexOf("iPhone OS 11")>0||navigator.userAgent.indexOf("iPad; CPU OS 11")>0),window._isIOS11_}function isAndroid41x(){return void 0==window._isAndroid41x_&&(window._isAndroid41x_=navigator.userAgent.indexOf("Android 4.1")>0),window._isAndroid41x_}function isAndroid42x(){return void 0==window._isAndroid42x_&&(window._isAndroid42x_=navigator.userAgent.indexOf("Android 4.2")>0),window._isAndroid42x_}function isAndroid43x(){return void 0==window._isAndroid43x_&&(window._isAndroid43x_=navigator.userAgent.indexOf("Android 4.3")>0),window._isAndroid43x_}function isAndroid43Minus(){return void 0==window._isAndroid43Minus_&&(window._isAndroid43Minus_=navigator.userAgent.match("Android 4.[0-3]")),window._isAndroid43Minus_}function isAndroid4(){return void 0==window._isAndroid4_&&(window._isAndroid4_=navigator.userAgent.indexOf("Android 4")>0),window._isAndroid4_}function isAndroid5(){return void 0==window._isAndroid5_&&(window._isAndroid5_=navigator.userAgent.indexOf("Android 5")>0),window._isAndroid5_}function isChrome30Minus(){return void 0==window._isChrome30Minus_&&(window._isChrome30Minus_=navigator.userAgent.indexOf("Chrome/30.")>=0||navigator.userAgent.match("Chrome/[12][0-9].")),window._isChrome30Minus_}function isChrome(){return void 0==window._isChrome_&&(window._isChrome_=navigator.userAgent.indexOf("Chrome/")>0),window._isChrome_}function isAndroid(){return void 0==window._isAndroid_&&(window._isAndroid_=navigator.userAgent.indexOf("Android")>0),window._isAndroid_}function isPC(){return void 0==window._isPC_&&(window._isPC_=!isIOS()&&!isAndroid()),window._isPC_}function isIE(){return void 0==window._isIE_&&(window._isIE_=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident/")>=0),window._isIE_}function isChromeIOS(){return void 0==window._isChromeIOS_&&(window._isChromeIOS_=navigator.userAgent.indexOf("CriOS/")>=0),window._isChromeIOS_}function isMacSafari(){return void 0==window._isMacSafari_&&(window._isMacSafari_=!!navigator.userAgent.match(/Version\/[\d\.]+ Safari/)),window._isMacSafari_}function isMac(){return void 0==window._isMac_&&(window._isMac_=navigator.userAgent.indexOf("Macintosh")>=0),window._isMac_}function isShopeeApp(){return void 0==window._isShopeeApp_&&(window._isShopeeApp_=navigator.userAgent.indexOf("Shopee")>=0),window._isShopeeApp_}function isGasApp(){return void 0==window._isGasApp_&&(window._isGasApp_=navigator.userAgent.indexOf("GarenaGas/")>=0),window._isGasApp_}function isShopeeWeb(){return!isShopeeApp()}function isWeChat(){return void 0==window._isWeChat_&&(window._isWeChat_=navigator.userAgent.indexOf("MicroMessenger/")>0),window._isWeChat_}function isFacebookApp(){return void 0==window._isFacebookApp_&&(window._isFacebookApp_=navigator.userAgent.indexOf("FBAV/")>=0),window._isFacebookApp_}function isBot(){return void 0==window._isBot&&(window._isBot=navigator.userAgent.indexOf("Googlebot")>=0),window._isBot}function isMobile(){return isAndroid()||isIOS()}function _rc_set(e,t,n,i){var r=$.cookie(e);if(r)return r;var o=randomString(t);return $.cookie(e,o,{path:"/",domain:n,expires:i}),o}function csrf_set(){window.csrf=_rc_set("csrftoken",32)}function spc_f_set(){_rc_set("SPC_F",32,null,new Date(curTs()+63072e7))}function _defaultFor(e,t){return"undefined"!=typeof e?e:t}function _uniqueFilter(e,t,n){return n.indexOf(e)==t}function toggleSubmitButton(e,t){t?e.removeClass("disable"):e.addClass("disable");var n=e[0];if(n)if(t){var i=$._data(n,"events");i&&(n.events_bak_tap&&(i.tap=n.events_bak_tap,delete n.events_bak_tap),n.events_bak_click&&(i.click=n.events_bak_click,delete n.events_bak_click))}else{var i=$._data(n,"events");i&&(i.tap&&(n.events_bak_tap=i.tap,delete i.tap),i.click&&(n.events_bak_click=i.click,delete i.click))}submitButtonEnabled=t}function formatCardNumber(e){return"* "+e.slice(12,16).replace(/\D/g,"*")}function alert_popout(e,t){$("#_alert_bg #_alert_content span").text(e),$("#_alert_bg").removeClass("hidden"),$("#_alert_bg #_alert_content .btn-dismiss-alert").off("tap").on("tap",function(e){e.preventDefault(),e.stopImmediatePropagation(),$("#_alert_bg").addClass("hidden")}),$("#_alert_bg #_alert_content .btn-confirm-alert").off("tap").on("tap",function(e){e.preventDefault(),e.stopImmediatePropagation(),$("#_alert_bg").addClass("hidden"),t&&t()})}function alert_message(e,t){try{clearTimeout(hideTimer)}catch(n){}$(".btn-confirm-alert").hide(),$(".btn-dismiss-alert").hide(),t=t||2e3,$("#_alert_bg #_alert_content span").text(e),$("#_alert_bg").removeClass("hidden"),hideTimer=setTimeout(function(){$("#_alert_bg").addClass("hidden")},t)}function alert_message_nonblock(e,t){try{clearTimeout(hideTimer)}catch(n){}$(".btn-confirm-alert").hide(),$(".btn-dismiss-alert").hide(),t=t||2e3,$("#_alert_msg").text(e).removeClass("hidden"),hideTimer=setTimeout(function(){$("#_alert_msg").addClass("hidden")},t)}function alert_message_with_loader(e,t){try{clearTimeout(hideTimer)}catch(n){}e=void 0==e?"":e,$("#_alert_bg #_alert_content span").text(e),$("#_alert_bg").removeClass("hidden"),$("#_alert_bg #_alert_content .img").removeClass("hidden"),t&&(hideTimer=setTimeout(function(){$("#_alert_bg").addClass("hidden"),$("#_alert_bg #_alert_content .img").addClass("hidden")},t))}function hide_message_with_loader(){$("#_alert_bg").addClass("hidden"),$("#_alert_bg #_alert_content .img").addClass("hidden")}function alert_t(e){alert_message(e)}function get_shopee_brand(){var e=i18n.t("label_shopee");return e&&0!=e.length||(e="Shopee"),e}function dollarfy(e,t,n,i){return""==i&&(i=get_default_currency()),$_dollarfy_input_||($_dollarfy_input_=$(document.createElement("input"))),$_dollarfy_input_.val(e),$_dollarfy_input_.formatCurrency&&$_dollarfy_input_.formatCurrency({region:i||"SGD"}),$_dollarfy_input_.val()}function dollarfy_simple(e){for(var t=0;t<e.length;t++){var n=$(e[t]),i=n.text();try{if("ID"==LOCALE||"VN"==LOCALE)var r=parseFloat(i.replace(/\./g,""));else var r=parseFloat(i.replace(/,/g,""));var o="";COUNTRY_DECIMAL[LOCALE]&&(r>1e6?(r/=1e6,o=DECIMAL_STRINGS[LOCALE].mil):r>1e3&&(r/=1e3,o=DECIMAL_STRINGS[LOCALE].k));var a=Math.pow(10,COUNTRY_DECIMAL[LOCALE]);r=Math.round(r*a)/a,n.text(r+o)}catch(l){console.log("failed to parse price")}}}function getLocale(){var e={TW:"zh-tw",VN:"vi-vn",TH:"th",MY:"my",PH:"ph",SG:"sg",ID:"th",IR:"fa",HK:"zh_hk",MM:"my"},t="en-sg";return LOCALE in e&&(t=e[LOCALE]),t}function formatTime(e){if(!e)return"";var t=new Date(1e3*e),n=new Number(t.getHours()).pad()+":"+new Number(t.getMinutes()).pad();return n}function formatDateLLL(e){return e?formatDateLL(e)+" "+formatTime(e):""}function getDateFormatForCurrentLocale(){var e=DATE_FORMAT_TO_LOCALE[LOCALE];return e||(e=DATE_FORMAT_TO_LOCALE.SG),e}function formatDateLL(e){if(!e)return"";var t=new Date(1e3*e),n=getDateFormatForCurrentLocale(),i=t.getFullYear(),r=new Number(t.getMonth()+1).pad(),o=new Number(t.getDate()).pad();return n=n.replace("yyyy",i).replace("mm",r).replace("dd",o)}function bee_dollarfy(e,t){return e/=PRICE_INFLATION_FACTOR,"IR"==LOCALE&&(e/=10),e=dollarfy(e,2,3,t)}function dollarsign_getter(e){var t="$";return""==e&&(e=get_default_currency()),"THB"==e?t="฿":"IDR"==e?t="Rp ":"VND"==e?t="₫ ":"MYR"==e?t="RM ":"PHP"==e?t="₱ ":"TWD"==e?t="$":"USD"==e?t="US$ ":"IRR"==e?t="تومان ":"MMK"==e&&(t="Ks"),t}function get_default_currency(){return"SG"==LOCALE?"SGD":"TH"==LOCALE?"THB":"ID"==LOCALE?"IDR":"VN"==LOCALE?"VND":"MY"==LOCALE?"MYR":"PH"==LOCALE?"PHP":"TW"==LOCALE?"TWD":"IR"==LOCALE?"IRR":"HK"==LOCALE?"HKD":"MM"==LOCALE?"MMK":"SGD"}function dollarfy_from_string(e){var t=get_default_currency(),n=dollarsign_getter(t);return n+bee_dollarfy(parseInt(e),t)}function dollarfy_all(){$(".dollarfy_ext_int").each(function(){var e=this.childNodes?this.childNodes[0]:null;if(e){var t=$(this);price=Number(t.text()),price_text=bee_dollarfy(price,t.attr("currency")),e.textContent=price_text,t.show()}}),$(".dollarfy_sign").each(function(){var e=$(this);sign=dollarsign_getter(e.attr("val")),e.text(sign),e.show()}),$(".dollarfy_val").each(function(){var e=$(this);price=Number(e.attr("val")),price_text=bee_dollarfy(price,e.attr("currency")),e.text(price_text)}),$(".span-currency").each(function(){var e=$(this),t=parseInt(e.data("amount")),n=e.data("currency");e.text(dollarsign_getter(n)+bee_dollarfy(t,n))})}function convertDate(){$(".dates").each(function(){var e=$(this),t=parseInt(e.attr("ctime"));t&&e.text(formatDateLLL(t))})}function dollarfy_element(e,t){var n=$();return n=n.add(e.find(".dollarfy_ext_int").each(function(){var e=this.childNodes?this.childNodes[0]:null;if(e){var t=$(this);price=Number(t.text()),price_text=bee_dollarfy(price,t.attr("currency")),e.textContent=price_text}})),n=n.add(e.find(".dollarfy_sign").each(function(){var e=$(this);sign=dollarsign_getter(e.attr("val")),e.text(sign)})),n=n.add(e.find(".dollarfy_val").each(function(){var e=$(this);price=Number(e.attr("val")),price_text=bee_dollarfy(price,e.attr("currency")),e.text(price_text)})),t?n.css("visibility","visible"):n.show(),e}function tstamp_element(e,t){var n=new Date;e.find(".tstamp").each(function(){var e=$(this),i=parseInt(e.attr("data-ctime"));if(isNaN(i))return"";t?i/=1e6:i*=1e3;var r=new Date(i);e.html(DateDiff.getDiff(r,n))})}function bjphone_all(){var e=new BJphone(LOCALE);$(".phone-number").each(function(){var t=$(this),n=t.text();n=e.validate(n),n[0]&&t.text(e.pretty(n[1]))})}function set_badge_number(e){var t=$("#badge-num");t.text(e),0==e?t.hide():t.show()}function revertTWDiscountForEnglishIfNeeded(e){"TW"==window.LOCALE&&"zhHant"!=window.LANGUAGE&&e&&e.discount&&(e.discount_percent_text||(e.discount_percent_text=e.raw_discount+"%"),e.discount=e.discount_percent_text)}function revertTWDiscountForEnglishIfNeededTemplate(e){return"TW"==window.LOCALE&&"zhHant"!=window.LANGUAGE&&e?e.replace(/promotion-tw/g,""):e}function normalizeMobileNumber(e){return e=e.split(" ").join(""),e=e.split("-").join(""),e=e.split("(").join(""),e=e.split(")").join(""),e=e.split("+").join("")}function safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}function safeEncodeURIComponent(e){try{return encodeURIComponent(e)}catch(t){return e}}function parse_hash(e){if(!e)return null;if(hashLoca=e.indexOf("#"),hashLoca==-1)return null;e=e.substr(hashLoca+1);var t=e.split("&"),n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=r.split("=");o.length>1?n[safeDecodeURIComponent(o[0])]=safeDecodeURIComponent(o[1]):n[o[0]]=null,"goto"==o[0]&&$("html, body").animate({scrollTop:$("#"+o[1]).offset().top},800)}return n}function parse_url_general(e,t){if(!t)return null;if(hashLoca=t.indexOf(e),hashLoca==-1)return null;t=t.substr(hashLoca+1);var n=t.split("&"),i={};for(var r in n)if(n.hasOwnProperty(r)){var o=n[r],a=o.split("=");a.length>1?i[safeDecodeURIComponent(a[0])]=safeDecodeURIComponent(a[1]):i[safeDecodeURIComponent(a[0])]=null}return i}function parse_hash_general(e){return parse_url_general("#",e)}function parse_get_params(e){return parse_url_general("?",e)}function generateGetUri(e,t){if(null!=t){var n=dictToQueryString(t),i="",r=e.indexOf("#");r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),n.length>0&&(e.indexOf("?")<0?n="?"+n:e+="&",e+=n),r>=0&&(e+="#"+i)}return e}function generateHashUri(e,t){if(null!=t){var n=dictToQueryString(t);n.length>0&&(e.indexOf("#")<0?n="#"+n:e+="&",e+=n)}return e}function addTimestampToUri(e){return generateGetUri(e,{_ts:parseInt((new Date).getTime()/1e3)})}function shop_url_from_hash(e){var t=parse_hash(e);if(t){var n=t.shopid;return location.origin+"/shop/"+n+"/"}alert("Invalid URL")}function item_url_from_hash(e){var t=parse_hash(e);if(t){var n=t.shopid,i=t.itemid;return location.origin+"/shop/"+n+"/item/"+i+"/"}alert("Invalid URL")}function price_html(e,t){return'<span class="dollarfy_sign" dir="ltr">'+dollarsign_getter(e)+'</span> <span class="dollarfy_val" currency="'+e+'" val="'+t+'">'+bee_dollarfy(t,e)+"</span>"}function get_translated_condition_text_for_display(e){return ITEM_CONDITIONS_MAP_TRANSLATED_FOR_DISPLAY[e]}function showSecond(){secondShow?($(".header .second-panel, .third-panel").hide(),$(".body-mask").hide(),$(".hold.user_avatar").addClass("ic_web_profile").removeClass("ic_web_close"),secondShow=!1,thirdShow=!1):($(".header .second-panel").show(),setTimeout(function(){$(".body-mask").show()},100),$(".hold.user_avatar").removeClass("ic_web_profile").addClass("ic_web_close"),secondShow=!0)}function mustShowSecond(){secondShow=!1,showSecond()}function showThird(){thirdShow?($(".header .third-panel").hide(),thirdShow=!1):($(".header .third-panel").show(),thirdShow=!0)}function askLogin(){BJUtil.navigate($(".login-btn").parent().attr("href"),!0)}function goBackAndReload(e){e||(e=-1),history.go(e)}function registerGoBackIfLoggedIn(e){e||(e=-1),window.onpageshow=function(){goBackIfLoggedIn(e)}}function goBackIfLoggedIn(e){checkLoginFromNetwork(function(){loggedin&&goBackAndReload(e)})}function checkLogin(e){if(isShopeeApp()){var t=$.cookie("shopee_token");loggedin=!!t}else loggedin=!!window.USERID;return e&&e(),loggedin}function checkLoginFromNetwork(e){return isShopeeApp()?void checkLogin(e):void $.get("/buyer/loggedin/",function(t){1==t&&(loggedin=!0),e&&e()})}function showProm(e,t){$(".lure-hold").show(),$(".general-mask").show(),e||(e=i18n.t("text_download_shopee_for_more_function")),"IR"==window.LOCALE&&isIOS()&&(e=i18n.t("msg_ios_coming_soon")),t===!0?$(".lure-hold .show-text").html(e):$(".lure-hold .show-text").text(e)}function hideProm(){$(".lure-hold").hide(),$(".general-mask").hide()}function asfq(e){e&&(e=e.replace(/[!~'()]/g,escape));var t=Base64.test1(),n=t+"-"+CryptoJS.MD5(t+CryptoJS.MD5(e)+t);return n}function aqfgu(e){var t=e.indexOf("?");if(t<0)return"";var n=e.substr(t+1);return n}function aas(e,t){if(t){var n="",i=t.url;if(isShopeeUrl(i)){"GET"===t.type?(n=aqfgu(i),e.setRequestHeader("X-Requested-For",n)):n=t.data||"";var r=asfq(n);e.setRequestHeader(Base64.test(),r)}}}function getSellerResponse(e){return e<1800?i18n.t("label_within_minutes"):e<43200?i18n.t("label_within_hours"):i18n.t("label_within_days")}function getPreparationTimeString(e){var t=Math.round(e/60/60/24)||1;return t=1==t?i18n.t("label_prep_within")+" 1 "+i18n.t("label_day"):t>=2&&t<=3?"2-3 "+i18n.t("label_days"):t>=4&&t<=5?"4-5 "+i18n.t("label_days"):i18n.t("label_prep_morethan")+" 5 "+i18n.t("label_days")}function post(e,t,n,i){n=_defaultFor(n,!1),i=_defaultFor(i,!1);var r=$("<form></form>");n?r.prop("target","_blank"):i&&r.prop("target","_self"),r.attr("method","post"),r.attr("action",e),$.each(t,function(e,t){var n=$("<input></input>");n.attr("type","hidden"),n.attr("name",e),n.attr("value",t),r.append(n)}),$(document.body).append(r),r.submit()}function get(e,t,n){t=_defaultFor(t,!1),n=_defaultFor(n,!1),t?window.open(e):window.location.href=e}function sendGetRequest(e,t){BJUtil.navigate(generateGetUri(e,t),!0)}function randomString(e,t){t=_defaultFor(t,rStringChoices);for(var n="",i=e;i>0;--i)n+=t[Math.round(Math.random()*(t.length-1))];return n}function bscount(e){$.each(e,function(e,t){var n=parseInt($(t).attr("bscount"));n<=999?$(t).text(n):$(t).text(Math.round(n/1e3)+"k")})}function stringContainsOneOfSubstrings(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n]))return!0;return!1}function gtopOnScroll(e){!__$gtop__||__$gtop__.length<=0||(e>=3*screen.height/2?__gtopVisible__||(__$gtop__.show(),__gtopVisible__=!0):__gtopVisible__&&(__$gtop__.hide(),__gtopVisible__=!1))}function navigate(e,t,n,i){i=_defaultFor(i,!1),n||(n=0);var r=e;0!=e.indexOf("http")&&(r=location.origin+e),navigate_with_config(r,{disableReload:n},{title:t},i)}function navigateExternalUrl(e,t,n){n||(n=0);var i=e;navigate_with_config(i,{disableReload:n},{title:t})}function navigate_with_config(e,t,n,i){i=_defaultFor(i,!1),bridgeCallHandler("navigate",{url:e,navbar:n,config:t,presentModalWebOnly:i},function(e){})}function bs_highlight(e){e.addClass("highlighted"),setTimeout(function(){e.removeClass("highlighted")},1e3)}function jump(e){var t={home:["home","/"],search_user:["addFriends","/"],add_friend:["addFriends?goHome=0","/"]},n=window.WebViewJavascriptBridge;n?n.callHandler("jump",{path:t[e][0]}):window.location=t[e][1]}function bridgePopupConfirm(e,t,n,i,r){n=_defaultFor(n,function(){}),i=_defaultFor(i,i18n.t("label_ok")),r=_defaultFor(r,i18n.t("label_cancel"));var o=window.WebViewJavascriptBridge;o?o.callHandler("showPopUp",{popUp:{message:e,buttonType:1,okText:i,cancelText:r}},function(e){0==e.buttonClicked?t():n()}):confirm(e)?t():n()}function decodeHTMLEncode(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function nl2br(e,t){function n(e){return r[e]||e}function i(e){return e.replace(/[&<>]/g,n)}if(!e)return e;var r={"&":"&amp;","<":"&lt;",">":"&gt;"};e=i(e);var o=t||"undefined"==typeof t?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+o+"$2")}function get_app_ids(e){return{SG:{iOS:"959840394",Android:"com.shopee.sg"},ID:{iOS:"959841443",Android:"com.shopee.id"},MY:{iOS:"959841113",Android:"com.shopee.my"},PH:{iOS:"959841854",Android:"com.shopee.ph"},TW:{iOS:"959841107",Android:"com.shopee.tw"},TH:{iOS:"959841453",Android:"com.shopee.th"},VN:{iOS:"959841449",Android:"com.shopee.vn"},IR:{iOS:"",Android:"com.shopee.ir"},HK:{iOS:"",Android:"com.shopee.intl"},MM:{iOS:"",Android:"com.shopee.mm"}}}function get_app_agent(){return/Android/i.test(navigator.userAgent)?"Android":"iOS"}function get_app_url(e){if(isAndroid()&&isGasApp())return"http://"+window.ROOT_DOMAIN+"/download";var t=get_app_ids(),e=e||get_app_agent(),n={iOS:"http://app.appsflyer.com/id{#id}?pid=web_referral",Android:"http://app.appsflyer.com/{#id}?pid=web_referral"};return n[e].replace("{#id}",t[window.LOCALE||"SG"][e])}function display_address(e,t){if($.isEmptyObject(e))return"";var n;switch(t){case"SG":n=e.address;break;case"MY":n=[e.address,e.city,e.state].join("\n");break;case"ID":n=[e.address,[e.city,e.city_sub].join("-"),e.state].join("\n");break;case"PH":n=[e.address,[e.city_sub_sub,e.city_sub].join(", "),[e.state,e.city].join(", ")].join("\n");break;case"TW":n=[e.state,e.city,e.address].join();break;case"VN":n=[e.address,e.district,e.city,e.state].join("\n");break;case"TH":n=[e.address,e.state,e.city].join("\n");break;case"IR":n=[e.address,e.city,e.state].join("\n");break;case"HK":n=[e.city,e.district,e.address].join("\n");break;case"MM":n=[e.city,e.district,e.address].join("\n")}return n}function isVer21Plus(){return window.APPVER&&window.APPVER>20100}function isVer22Plus(){return window.APPVER&&window.APPVER>20200}function isVer23Plus(){return window.APPVER&&window.APPVER>20300}function isVer24Plus(){return window.APPVER&&window.APPVER>20400}function isVerVideo(){return isIOS()&&window.APPVER>=20410||isAndroid()&&window.APPVER>=20400}function isWebChatEnabled(){return isPC()&&isShopeeWeb()&&(window.STAGING||window.DEBUG)}function isNewBuyerPanelSupported(){return!SIMPLE_VERSION&&(!!isWeb||(isIOS()?getAppVersion()>=20239:isAndroid()?getAppVersion()>=20251:void 0))}function isNewChatSupported(){if(isShopeeWeb())return!0;var e=getAppVersion();return!!e&&e>=NEW_CHAT_VERSION}function getAppVersion(){return isShopeeApp()?parseInt(navigator.userAgent.match(/appver=([0-9]+)/i)[1]):0}function intersectRect(e,t){return e.left<t.right&&t.left<e.right&&e.top<t.bottom&&t.top<e.bottom}function getJSON(e,t,n,i){var r=null,o=null;t&&("function"==typeof t?o=t:(r=t,"function"==typeof n&&(o=n)));var a={cache:!0,dataType:"json",url:e,data:r,success:o};return i&&(a.timeout=i),$.ajax(a)}function runAfterDomReady(e,t){t=void 0==t?0:t,/in/.test(document.readyState)?setTimeout(function(){runAfterDomReady(e,t)},9):t?setTimeout(function(){e()},t):e()}function urlToLocation(e){var t=document.createElement("A");return t.href=e,t}function dictToQueryString(e){var t="";for(var n in e)t+=safeEncodeURIComponent(n)+"="+safeEncodeURIComponent(e[n])+"&";return t.substr(0,t.length-1)}function queryStringToDict(e){var t={},n=void 0===e?window.location.search:e;if(!n||n.length<3)return t;n=n.substr(1).split("&");for(var i=0;i<n.length;i++){var r=n[i].split("=");t[safeDecodeURIComponent(r[0])]=safeDecodeURIComponent(r[1])}return t}function bridgeCallHandler(e,t,n){var i=window.WebViewJavascriptBridge,r=window.BJBridgeReceiver;if(t=t||{},"navigate"==e){if(!window.DO_NOT_PASS_MARKETING_TRACKING_TOKEN){var o=t.url,a=parse_get_params(location.search);if(a&&a[window.MARKET_TRACKING_TOKEN_NAME]){var l={};l[window.MARKET_TRACKING_TOKEN_NAME]=a[window.MARKET_TRACKING_TOKEN_NAME],t.url=generateGetUri(o,l)}}if(RNUtil.jumpToReactNativeIfExists(t.url,t.popSelf||!1))return;if(t.popHistory)return void window.location.replace(t.url);if(t.inCurrentPage)return void(window.location.href=t.url)}else if("load"==e&&isShopeeApp()&&isAndroid()){var s=$.Deferred();return i.callHandler(e,t,function(e){s.resolve(e)}),bridgeRegisterHandler("viewWillReappear",function(){i.callHandler(e,t,function(e){s.resolve(e)})},JSON.stringify(t)),void s.then(function(e){n(e)})}i?(n=n||function(){},i.callHandler(e,t,n)):r&&r.callHandler(e,t,n)}function bridgeRegisterHandler(e,t,n){var i=window.WebViewJavascriptBridge,r=window.BJBridgeReceiver;i?i.registerHandler(e,t,n):r&&r.registerHandler(e,t)}function postInNewPage(e,t,n){if(n=n||{},isShopeeApp()){var i=randomString(16),r={post_url:e,post_params:t,use_csrf:n.useCsrf};n.customGetUri?bridgeCallHandler("navigate",{url:e,config:{disableReload:1,disableBounce:1},navbar:{title:n.pageTitle||""}},function(){}):bridgeCallHandler("save",{key:i,data:JSON.stringify(r),persist:0},function(e){return e.status?(n.afterSave&&n.afterSave(),void bridgeCallHandler("navigate",{url:generateGetUri(window.location.origin+"/buyer/payment/post/",{key:i}),config:{disableReload:1,disableBounce:1},navbar:{title:n.pageTitle||""}},function(){})):(alert_message("Prepare data failed. Please clear your memory and try again."),!1)})}else n.useCsrf&&(t.csrfmiddlewaretoken=csrf),n.customGetUri?get(e):post(e,t)}function hijackEnterKey(e,t){e.find("input").on("keydown",function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),t())})}function loadDelayedImages(e){runAfterDomReady(function(){e.find("img[_src]").each(function(){var e=$(this),t=e.attr("_src");t.indexOf("/null_tn")<0&&t.indexOf("/_tn")<0&&e.attr("src",t).removeAttr("_src")})})}function loadDelayedBackgroundImages(e){runAfterDomReady(function(){e.find("div[_style]").each(function(){var e=$(this),t=e.attr("_style");t.indexOf("/null_tn")<0&&t.indexOf("/_tn")<0&&e.attr("style",t).removeAttr("_style")})})}function getCategoryNativeTabs(e,t,n){t=t||!1,n=n||!1;var i=e.indexOf("?")>=0?"&":"?",r=[{name:i18n.t("label_latest"),url:e+i+"nativetab=true&by=ctime&order=des"},{name:i18n.t("label_price"),url:e+i+"nativetab=true&by=price&order=des"},{name:i18n.t("label_popular"),url:e+i+"nativetab=true&by=pop&order=des"},{name:i18n.t("label_distance"),url:e+i+"nativetab=true&by=distance&order=des"}];if(n||t&&window.POPTAB_FIRST_HASHTAG||!t&&window.POPTAB_FIRST){var o=r[2];r[2]=r[0],r[0]=o}return r}function getSearchNativeTabs(e){var t=e.indexOf("?")>=0?"&":"?",n=[{name:i18n.t("label_popular"),url:e+t+"nativetab=true&by=pop&order=des"},{name:i18n.t("label_price"),url:e+t+"nativetab=true&by=price&order=des"},{name:i18n.t("label_latest"),url:e+t+"nativetab=true&by=ctime&order=des"},{name:i18n.t("label_distance"),url:e+t+"nativetab=true&by=distance&order=des"}];return n}function getSearchTitle(e){return e?isShopeeApp()&&isAndroid()&&!isVer22Plus()?'"'+e+'"':searchKeywordForDisplay(e):e}function isElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function isHalfElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect(),n=t.height*t.width/2,i=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,o=0,a=0;return a=t.bottom<=0||t.top>=i?0:t.top<=0&&t.bottom>=0?t.bottom:t.top<=i&&t.bottom>=i?i-t.top:t.height,o=t.right<=0||t.left>=r?0:t.left<=0&&t.right>=0?t.right:t.left<=r&&t.right>=r?r-t.left:t.width,a*o>n}function timeoutExOnScroll(){for(var e=Object.keys(timeoutFuncs),t=0;t<e.length;t++){var n=timeoutFuncs[e[t]];curTs()-n.startMs>=n.fireAfterMs&&(clearTimeoutEx(n.id),n.func())}}function setTimeoutEx(e,t){var n=++timeoutIDs,i=setTimeout(function(){e(),delete timeoutFuncs[n]},t);timeoutFuncs[n]={id:n,tid:i,startMs:curTs(),fireAfterMs:t,func:e},timeoutExOnScrollRegistered||($(window).on("scroll",timeoutExOnScroll),timeoutExOnScrollRegistered=!0)}function clearTimeoutEx(e){var t=timeoutFuncs[e];t&&t.tid&&clearTimeout(t.tid),delete timeoutFuncs[e],0==timeoutFuncs.length&&($(window).off("scroll",timeoutExOnScroll),timeoutExOnScrollRegistered=!1)}function _eval(e){new Function(e)()}function safePostUrl(e){if(e.indexOf("method=post")>0)return e;var t=e.indexOf("?")>=0?"&":"?";return e+t+"method=post"}function isShopeeUrl(e){if(!e)return!1;if(!e.startsWith("http"))return!0;var t=urlToLocation(e);return!(!t||!t.hostname)&&t.hostname.endsWith(window.ROOT_DOMAIN)}function reloadUponLoginLogout(e){e&&e.registerHandler("viewWillReappear",function(e,t){var n=loggedin;checkLogin(function(){loggedin!=n&&(n=loggedin,location.reload())})})}function validEmail(e){e=e.toLowerCase().trim();var t=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?");return null!=e.match(t)}function isShopeeCSEmailAddress(e){return e=e.toLowerCase().trim(),Constants.EmailNotAllowedWhenRequestSubmission.indexOf(e)!=-1}function getCurrentPath(){var e=window.location.origin;return e+=window.STAGING||window.DEBUG?window.location.pathname:window.CURRENT_PATH}function getFAQAnswerUrl(e){return location.origin+"/help_center/answer/"+e+"/"}function getFAQCategoryUrl(e,t){return location.origin+"/help_center/category/"+e+"/#"+t}function searchKeywordForDisplay(e){return e?e.replace(/"/g,""):e}function encloseColorCode(e,t){return"<"+t+">"+e+"</"+t+">"}function fixForIOS11FixedElementGlitch(){isShopeeApp()&&isIOS11()&&(window.$window||($window=$(window)),fixForIOS11FixedElementGlitchInited||(fixForIOS11FixedElementGlitchInited=!0,$fixedElementsWithGlitchOnIOS11.push($(".fixed-item-with-glitch-ios11")),$window.on("scroll",_.throttle(function(){var e=$window.scrollTop(),t=window.IOS11FixedElementGlitchPositionThreshold||20;Math.abs(e-scrollPosition)<t||(scrollPosition=e,window.$fixedElementsWithGlitchOnIOS11&&_.map(window.$fixedElementsWithGlitchOnIOS11,function(e){$.isEmptyObject(e)||e.filter(":visible").toggleClass("force-repaint")}))},20))))}function navigateToNextPage(e){BJUtil.navigate(e,!0)}function _plvSaveGlobals_(){var e={};try{for(var t in window)if(window.hasOwnProperty(t)){var n=window[t];$.isArray(n)&&0==n.length?e[t]=__PLV_EMPTY_ARRAY__:$.isEmptyObject(n)&&$.isPlainObject(n)?e[t]=__PLV_EMPTY_DICT__:e[t]=n}}catch(i){}return delete e.__plv_saved_globals__,delete e.__plv_saved_body__,delete e.__plv_id__,delete e.__plv_initial_url__,delete e.__plv_login_status__,delete e.__PLV_EMPTY_ARRAY__,delete e.__PLV_EMPTY_DICT__,delete e.location,delete e.scrollY,delete e.scrollX,delete e.pageXOffset,delete e.pageYOffset,e._gascrollY_=null,e}function _plvRestoreGlobals_(e){if(e)for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n===__PLV_EMPTY_ARRAY__?window[t]=[]:n===__PLV_EMPTY_DICT__?window[t]={}:window[t]=n}}function hijackAjax(){if(!$.abortableAjax){$.abortableAjax=[],$.abortableAjax.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.abortableAjax.splice(0,$.abortableAjax.length)};var e=null;$.ajaxSettings&&(e=$.ajaxSettings.beforeSend),$.ajaxSetup({beforeSend:function(t,n){$.abortableAjax.push(t),e&&e(t,n)},complete:function(e){var t=$.abortableAjax.indexOf(e);t>-1&&$.abortableAjax.splice(t,1)}})}}function plvInit(e){if(plvIsEnabled()){var t=location.origin+e;window.__plvNeedSaveAllNodesState__=!0,window.__plv_initial_url__=t,window.__plv_saved_globals__=_plvSaveGlobals_(),hijackAjax(),window.__plv_initial_url__&&window.__gaplvbridge__&&window.__gaplvbridge__.confirmPlv(),$(function(){__plv_login_status__=checkLogin()})}}function offAllEvents(){$(window).off(),$(document).add("*").off(),document&&(document.removeAllEvents&&document.removeAllEvents(),document.body&&document.body.removeAllEvents&&document.body.removeAllEvents()),window.removeAllEvents&&window.removeAllEvents(),$.abortableAjax&&$.abortableAjax.abortAll()}function plvReset(){if(window.__plv_saved_body__){document.body.innerHTML=window.__plv_saved_body__,GTimeoutAndInterval.clearAll(!0),offAllEvents(),window.WebViewJavascriptBridge.reset(),_plvRestoreGlobals_(window.__plv_saved_globals__);for(var e=0;e<__readyFuncs__.length;e++){var t=__readyFuncs__[e];t()}window.__gaplvbridge__&&window.__gaplvbridge__.afterPlvReset()}}function matchOrigin(e){var t=location.origin+"/";return e.startsWith(t)?e:e.indexOf("://")<0?t+e:t+e.split("://")[1].split("/").slice(1).join("/")}function plvLoad(e,t,n){var i=curTs();__plv_id__=e;try{t=matchOrigin(t),history.replaceState({},"",t)}catch(r){console.error("plvLoad.replaceState.e",r),location.href=t}$.query&&($.query=$.query.load(t)),setTimeout(function(){var e=checkLogin();__plv_login_status__!=e&&(location.reload(),__plv_login_status__=e),plvReset(),null!=n&&window.scrollTo(window.scrollX,n);var t=curTs()-i;window._track_qos_pageload&&_track_qos_pageload(t),window.BI_ANALYTICS&&BI_ANALYTICS.qos(QOS_TYPE.PLV,t)},200)}function plvClean(){__plv_id__=null;var e=window.__plv_initial_url__;e&&(history.replaceState({},"",e),$.query&&($.query=$.query.load(e)),setTimeout(function(){plvReset(),window.scrollTo(window.scrollX,0)},200))}function plvSetId(e){__plv_id__=e,$(document).trigger(EVENT_PLV_SETID)}function plvTaken(){$(document).trigger(EVENT_PLV_TAKEN)}function plvIsEnabled(){return window.WebViewJavascriptBridge&&isAndroid()&&isShopeeApp()}function plvPreload(e,t,n){if(plvIsEnabled()){var i="preload";n&&(i=i+"_"+n),window.WebViewJavascriptBridge.callHandler(i,{key:e,url:location.origin+t},null)}}function plvIsEffective(){return null!=window.__gaplvbridge__&&null!=window.__plv_id__;
}function plvSetUrl(e){window.__gaplvbridge__&&window.__gaplvbridge__.plvSetUrl&&window.__gaplvbridge__.plvSetUrl(e)}function formatNumber(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function runFuncAfterDeferedResolve(e,t){return function(){var n=arguments;t.then(function(){e.apply(null,n)})}}function formatNumberUsingAbbreviation(e,t){var n;if("zhHant"!=window.LANGUAGE?e>=1e6?n=1e6:e>=1e3&&(n=1e3):e>=1e8?n=1e8:e>=1e4&&(n=1e4),n){var i=Math.pow(10,t||0),r="label_short_for_number_"+n;return Math.round(e/n*i)/i+i18n.t(r)}return e}function strtobool(e){e=String(e).toLowerCase();var t=["n","no","f","false","off","0","null","undefined","NaN",""];return t.indexOf(e)<0}function toCapitalize(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}function toTitleCase(e){var t=e.split(" ");return _.map(t,function(e){return toCapitalize(e)}).join(" ")}function toIntOrNull(e){var t=parseInt(e);return isNaN(t)?null:t}function toFloatOrNull(e){var t=parseFloat(e);return isNaN(t)?null:t}function toBoolOrNull(e){return void 0===e||null===e?null:strtobool(e)}function toStringOrNull(e){return null===e||void 0===e?null:String(e)}function toArrayOrNull(e){return Array.isArray(e)?e:null===e||void 0===e?null:[e]}function isScreenSizeSmallerThanIPhone5(){return $(window).width()<=320}function catchAllException(e){return function(){var t=this,n=arguments;try{e.apply(t,n)}catch(i){console.error(i)}}}function setupCsrfInHeader(){$.ajaxSetup({beforeSend:function(e,t){/^http:.*/.test(t.url)||/^https:.*/.test(t.url)||e.setRequestHeader("X-CSRFToken",window.csrf)}})}function getOrderListDeeplink(e,t,n){var i,r=t?"purchases":"orders";switch(e){case 9:i=r+"?tab2=topay";break;case 7:i=r+"?tab2=toship";break;case 8:i=r+"?tab2=toreceive";break;case 3:i=r+"?tab=completed&tab2=completed";break;case 4:i=r+"?tab=cancelled&tab2=cancelled";break;default:i=r}return BJUtil.addFromTabFilterToUrl(i,n)}function parseToolTips(e,t){function n(e,t){return function(n){n.preventDefault(),n.stopImmediatePropagation(),bridgeCallHandler("showPopUp",e,t)}}function i(e,t,n){return function(i){i.preventDefault(),i.stopImmediatePropagation(),BJUtil.showPopupWithLearnMore(e,t,null,null,null,n)}}function r(e){var t=e.match(o);return t?t[1]:null}if(e&&e.length){var o=/#\{([\w_]+)\}/,a=/#\{([\w_]+)\}/g,l=e.data("tooltips"),s=e.data("faqId"),d=e.data("faqUrl"),u=e.text();u=u.replace(a,function(e){var o=r(e),a=l&&l[e],u=t[o];if(u){if("timestamp"==u.type)var _=parseInt(u.value),c=formatDateLL(_);else c=u.value;var f=o;return a&&(setTimeout(function(){s?$("."+o).off("tap").on("tap",i(i18n.t(a),s)):d?$("."+o).off("tap").on("tap",i(i18n.t(a),null,d)):$("."+o).off("tap").on("tap",n({popUp:{message:i18n.t(a),buttonType:1,okText:i18n.t("label_ok")}}))},100),f+=" text-underline"),"<span class='"+f+"'>"+nl2br(c)+"</span>"}}),e[0].innerHTML=u}}var i18n=function(){return{t:function(e){var t=window._transify_t_&&window._transify_t_[e];return t?t:e}}}(),__jQueryReadyFunc__=$.fn.ready,__readyFuncs__=[];$.fn.ready=function(e){__readyFuncs__.indexOf(e)<0&&__readyFuncs__.push(e),__jQueryReadyFunc__(e)},isShopeeApp()&&isIOS()&&hijackAjax();var submitButtonEnabled=!0;Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var hideTimer;PRICE_INFLATION_FACTOR=1e5;var $_dollarfy_input_=null,COUNTRY_DECIMAL={ID:1,VN:1,PH:1,TH:1,SG:0,MY:0,TW:0},DECIMAL_STRINGS={ID:{k:i18n.t("label_k_id"),mil:i18n.t("label_mil_id")},VN:{k:i18n.t("label_k_vn"),mil:i18n.t("label_mil_vn")},PH:{k:i18n.t("label_k_ph"),mil:i18n.t("label_mil_ph")},TH:{k:i18n.t("label_k_th"),mil:i18n.t("label_mil_th")}},DATE_FORMAT_TO_LOCALE={TW:"yyyy-mm-dd",VN:"dd-mm-yyyy",TH:"dd-mm-yyyy",MY:"dd-mm-yyyy",PH:"mm/dd/yyyy",SG:"dd-mm-yyyy",ID:"dd-mm-yyyy",IR:"yyyy/mm/dd",HK:"yyyy-mm-dd",MM:"dd-mm-yyyy"},GTapManager=function(e){function t(e){u=!1,_=0}function n(e){u&&(_=curTs(),u=!1)}function i(e){}function r(e){return!(curTs()-_<=80)||(_=0,e&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),!1)}function o(e){u=!0}function a(e){$.each(e,function(e,t){var n=window.getComputedStyle(t).overflowX;"scroll"==n&&$(t).on("scroll",o)})}function l(e){e.each(function(){var e=$._data(this,"events");if(e&&e.tap&&e.tap.length>0&&e.tap.indexOf(r)<0){var t=e.tap[0];$(this).on("tap",t.selector?t.selector:null,r),e.tap.unshift(e.tap.pop())}})}function s(e){a(e),l(e)}function d(e){u=e}var u=!1,_=0;if($(window).on("scroll",o),e){e.on("touchstart",t),e.on("touchend",n);var c=e.parents();c.push.apply(c,e),c.push.apply(c,e.children()),a(c),l(e)}return{touchstart:t,touchend:n,touchmove:i,setIgnoreNextTap:d,tap:r,injectMore:s}};$(function(){dollarfy_all(),"undefined"==typeof num_items?$("#badge-num").hide():set_badge_number(num_items),0==$("nav#toolbar ul.popover").children().length&&$("nav#toolbar li#category-btn a").click(function(){alert_message("no_category","Sorry, no categories in this shop :(")}),isPC()?$(".site_header .apps").html(i18n.t("label_get")):$(".site_header .apps").html(i18n.t("label_apps"));var e="/me/setting/my_ms_language/";$.cookie("language")||window.sessionStorage.getItem("ignoreLanguageSetting")||"MY"!=window.LOCALE||location.pathname==e||isShopeeApp()||(isAndroid()||isIOS()?location=e+"?prev_url="+encodeURIComponent(location.href):$(".language-wrapper").removeClass("hidden"))});var mobile_regex_dict={TW:/^0?9\d{8}$/,sg:/^\d{8}$/,KZ:/^\d{10}$/,th:/^0\d{9}$/},default_mobile_regex=/^\d{6,14}$/,ITEM_CONDITIONS_MAP_TRANSLATED_FOR_DISPLAY={0:i18n.t("label_not_set"),1:i18n.t("label_new_with_tags"),2:i18n.t("label_new_without_tags"),3:i18n.t("label_new_with_defects"),4:i18n.t("label_used"),5:i18n.t("label_new_others"),6:i18n.t("label_used_like_new"),7:i18n.t("label_used_good"),8:i18n.t("label_used_acceptable"),9:i18n.t("label_used_with_defects")},secondShow=!1,thirdShow=!1,loggedin=!1,DateDiff={inSecs:function(e,t){var n=t.getTime(),i=e.getTime();return parseInt((n-i)/1e3)},inMins:function(e,t){var n=t.getTime(),i=e.getTime();return parseInt((n-i)/6e4)},inHours:function(e,t){var n=t.getTime(),i=e.getTime();return parseInt((n-i)/36e5)},inDays:function(e,t){var n=t.getTime(),i=e.getTime();return parseInt((n-i)/864e5)},inCalendarDays:function(e,t){var n=new Date(e);n.setHours(0,0,0,0);var i=new Date(t);return i.setHours(0,0,0,0),DateDiff.inDays(n,i)},inWeeks:function(e,t){var n=t.getTime(),i=e.getTime();return parseInt((n-i)/6048e5)},inMonths:function(e,t){var n=e.getFullYear(),i=t.getFullYear(),r=e.getMonth(),o=t.getMonth();return o+12*i-(r+12*n)},inYears:function(e,t){return t.getFullYear()-e.getFullYear()},isPlural:function(e){return e>1},inFullFormat:function(e,t){var n=DateDiff.inSecs(e,t)-60*DateDiff.inMins(e,t),i=DateDiff.inMins(e,t)-60*DateDiff.inHours(e,t),r=DateDiff.inHours(e,t);return r.pad()+":"+i.pad()+":"+n.pad()},getDiff:function(e,t,n){var i=DateDiff.inMins(e,t);return i<60?i<=0?i18n.t("label_just_now"):i+(n?DateDiff.isPlural(i)?" "+i18n.t("label_minutes"):" "+i18n.t("label_minute"):i18n.t("label_minute_abbr")):(i=DateDiff.inHours(e,t),i<24?i+(n?DateDiff.isPlural(i)?" "+i18n.t("label_hours"):" "+i18n.t("label_hour"):i18n.t("label_hour_abbr")):(i=DateDiff.inDays(e,t),i<7?i+(n?DateDiff.isPlural(i)?" "+i18n.t("label_days"):" "+i18n.t("label_day"):i18n.t("label_day_abbr")):(i=DateDiff.inWeeks(e,t),!isNaN(i)&&i<52?i+(n?DateDiff.isPlural(i)?" "+i18n.t("label_weeks"):" "+i18n.t("label_week"):i18n.t("label_week_abbr")):(i=DateDiff.inYears(e,t),i+(n?DateDiff.isPlural(i)?" "+i18n.t("label_years"):" "+i18n.t("label_year"):i18n.t("label_year_abbr"))))))},getDiffFull:function(e,t){var n=DateDiff.inMins(e,t);return n<60?n<=1?0:n+" "+i18n.t("label_minutes"):(n=DateDiff.inHours(e,t),n<24?1==n?n+" "+i18n.t("label_hour"):n+" "+i18n.t("label_hours"):(n=DateDiff.inDays(e,t),n<7?1==n?n+" "+i18n.t("label_day"):n+" "+i18n.t("label_days"):(n=DateDiff.inWeeks(e,t),isNaN(n)?"":1==n?n+" "+i18n.t("label_week"):n+" "+i18n.t("label_weeks"))))}},rStringChoices="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";$(function(){if(!window.skipSiteJSInit){$(".header .icon_left.ic_arrow_back").on("tap",function(e){BJUtil.goBackOrClose(),e.stopPropagation(),e.preventDefault()}),$("#get_app_link,.get_app_link").attr("href",get_app_url()),"IR"==window.LOCALE?isIOS()?($("#get_android_app_link").parent().hide(),$("#get_ios_app_link").parent().hide(),$("#get_app_link").parent().hide(),$(".lure-hold .bottom").css("margin-top","0")):($("#get_android_app_link").attr("href",get_app_url("Android")),$("#get_ios_app_link").attr("href","http://app.appsflyer.com/com.shopee.ir-CafeBazaar?pid=OrganicA&af_r=https://cafebazaar.ir/app/com.shopee.ir/?l=fa?pid=OrganicA&c=lp_home_and1"),$("#get_ios_app_link").empty().append("<img src='#{url}' style='width:100%'/>".replace("#{url}",STATIC_URL+"images/cafebazzar_download_link.png")),$("#get_app_link").parent().hide()):/Android/i.test(navigator.userAgent)||/iPhone/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent)||/iPod/i.test(navigator.userAgent)?($("#get_android_app_link").parent().hide(),$("#get_ios_app_link").parent().hide(),/iPhone/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent)||/iPod/i.test(navigator.userAgent)?$("#get_app_link").on("tap",function(e){e.preventDefault(),e.stopImmediatePropagation(),_track_download_ios();var t=$(e.currentTarget).attr("href"),n=window.open(t);setTimeout(function(){n.close()},2e3)}):$("#get_app_link").on("tap",function(e){_track_download_android()})):($("#get_android_app_link").attr("href",get_app_url("Android")),$("#get_ios_app_link").attr("href",get_app_url("iOS")),$("#get_app_link").parent().hide());var e=null;$.ajaxSettings&&(e=$.ajaxSettings.beforeSend),$.ajaxSetup({cache:!1,timeout:35e3,beforeSend:function(t,n){e&&e(t,n),aas(t,n)}}),setTimeout(function(){checkLogin()},1e3),$(".body-mask").on("tap",function(e){e.preventDefault(),e.stopPropagation(),showSecond()}),$("a").each(function(e){var t=$(this),n=t.attr("href");if(n){var i=["login","signup","logout"];stringContainsOneOfSubstrings(n,i)&&!stringContainsOneOfSubstrings(window.location.href,i)&&t.attr("href",n+"?entrance="+encodeURIComponent(window.location.href))}}),$(".tstamp").each(function(){var e=parseInt($(this).attr("data-ctime")),t=new Date,n=new Date(1e3*e);$(this).html(DateDiff.getDiff(n,t))}),$(".bscount").each(function(){bscount([$(this)])}),convertDate(),$(".cdate").each(function(){var e=$(this),t=parseInt(e.attr("cdate"));if(t){new Date(1e3*t);e.text(formatDateLL(t))}}),WEB_ALERT_KEYS={ship_out_days:i18n.t("tooltips_days_to_ship"),shipping_fee_included:"MY"==window.LOCALE?i18n.t("tooltips_shipping_fee_included_my"):i18n.t("tooltips_shipping_fee_included")},$(".app_alert").on("tap",function(){key=$(this).attr("for"),val=WEB_ALERT_KEYS[key],bridge=window.WebViewJavascriptBridge,bridge?bridge.callHandler("showPopUp",{popUp:{message:val,okText:i18n.t("label_ok")}},function(e){0==e.buttonClicked}):alert_message(val)}),__$gtop__=$(".gtop"),__$gtop__.on("tap",function(){$(window).scrollTop(0)}),isIOS()&&$("textarea, input").on("tap",function(e){$("#get_ios_app_link").parent().hide(),(/iPhone/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent)||/iPod/i.test(navigator.userAgent))&&e.preventDefault(),e.stopPropagation(),$(this).focus()}).css("transform","translate3d(0,0,0)"),$("#_alert_bg").on("tap touchmove",function(e){e.preventDefault(),e.stopPropagation()}),"undefined"!=typeof LANGUAGE&&"fa"==LANGUAGE&&$(document).attr("dir","rtl")}});var __gtopVisible__=!1,__$gtop__=null,_gascrollY_=null,scrollTopFunc=isPC()?function(){return $(window).scrollTop()}:function(){return null!=_gascrollY_?_gascrollY_:window.scrollY};isShopeeApp()&&(window.funcScrollTo||(window.funcScrollTo=window.scrollTo,window.ORIGINAL_GLOBAL_VARS&&(window.ORIGINAL_GLOBAL_VARS.funcScrollTo=!0)),window.scrollTo=function(e,t){_gascrollY_=t,funcScrollTo(e,t)});var curTs=Date.now?function(){return Date.now()}:function(){return+new Date},NEW_CHAT_VERSION=20200;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(){n&&(window.requestAnimationFrame(t),e.fx.tick())}var n;window.requestAnimationFrame&&(e.fx.timer=function(i){i()&&e.timers.push(i)&&!n&&(n=!0,t())},e.fx.stop=function(){n=!1})}),$.fn.isOnScreen=function(){var e=this.get(0),t=e.getBoundingClientRect();return intersectRect(t,document.body.getBoundingClientRect())},$(function(){$.fn.tap||($.fn.tap=function(e){e?$(this).on("tap",e):$(this).trigger("tap")})}),String.prototype.format=String.prototype.f=function(){for(var e=this,t=arguments.length;t--;)e=e.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return e},String.prototype.kFormat=String.prototype.kf=function(e){var t=/{{([^{}]+)}}/g;return this.replace(t,function(t){var n=t.replace(/[{}]/g,"");return n in e?e[n]:""})},String.prototype.tFormat=String.prototype.tf=function(e){var t=/__((?!__).)*__/g;return this.replace(t,function(t){var n=t.slice(2,-2);return n in e?e[n]:""})};var bridgeInit=function(){var e=!1;return function(t){t&&"function"==typeof t&&(isShopeeWeb()?BJUtil.callFunction(t):connectWebViewJavascriptBridge(function(n){e||(n.init(function(){}),e=!0),BJUtil.callFunction(t,n)}))}}();$.fn.extend({autoHeightInput:function(e){function t(e){return $(e).attr("style","height:"+e.scrollHeight+"px;overflow-y:hidden;")}return this.each(function(){t(this).on("input keyup",function(){var t=$(this).height();this.style.height="auto",this.style.height=this.scrollHeight+"px",$(this).height()!=t&&e(this,$(this).height()-t)})})}});var timeoutFuncs={},timeoutIDs=0,timeoutExOnScrollRegistered=!1;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t}),jQuery.each(["put","delete"],function(e,t){jQuery[t]=function(e,n,i,r){return jQuery.isFunction(n)&&(r=r||i,i=n,n=void 0),jQuery.ajax({url:e,type:t,dataType:r,data:n,success:i})}});var oldjQueryParam=jQuery.param;jQuery.param=function(e,t){var n=oldjQueryParam(e,t);return n&&(n=n.replace(/\+/g,"%20")),n},csrf_set(),spc_f_set(),isAndroid()&&!isShopeeApp()&&"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw-cache.js?v4").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)})["catch"](function(e){console.log("ServiceWorker registration failed: ",e)}),$(function(){fixForIOS11FixedElementGlitch()});var fixForIOS11FixedElementGlitchInited=!1,$fixedElementsWithGlitchOnIOS11=[],scrollPosition=0,__PLV_EMPTY_ARRAY__=[],__PLV_EMPTY_DICT__={},__plv_login_status__=null,__plv_id__=null,EVENT_PLV_SETID="EVENT_PLV_SETID",EVENT_PLV_TAKEN="EVENT_PLV_TAKEN";
//# sourceMappingURL=../source_maps/site.js.map
